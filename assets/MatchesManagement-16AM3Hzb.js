import{j as e,H as s,e as a,c as i,J as l,K as t}from"./ui-dsA3UTJJ.js";import{r,R as n}from"./vendor-VrRidEet.js";import{C as c}from"./card-DTOVq60Q.js";import{B as d}from"./button-DhUj6jFD.js";import{t as m}from"./index-C5T_0QIt.js";import{D as o,a as h,b as x,c as j,e as g,d as v}from"./dialog-aqK-hrSm.js";import{S as u,a as p,b as f,c as N,d as y}from"./select-BllBYXzh.js";import{L as w,I as b}from"./label-5gP1uu55.js";const C=()=>{var C,S;const[T,k]=r.useState([]),[F,I]=r.useState(!1),[O,J]=r.useState(null),[z,D]=r.useState(null);n.useEffect((()=>{const e=localStorage.getItem("matches");e&&k(JSON.parse(e))}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Управление матчами"}),e.jsxs(d,{onClick:()=>{const e={id:Date.now().toString(),homeTeam:"",awayTeam:"",date:"",time:"",venue:"",competition:"",status:"scheduled"};J(e),I(!0)},className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(s,{className:"mr-2 h-4 w-4"})," Добавить матч"]})]}),e.jsx("div",{className:"grid gap-6",children:T.map((s=>{var r,n;return e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("live"===s.status?"bg-fc-green text-white":"finished"===s.status?"bg-gray-200 text-gray-700":"bg-fc-yellow text-gray-900"),children:"live"===s.status?"Идет матч":"finished"===s.status?"Завершен":"Запланирован"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(a,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.date," ",s.time]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-lg font-semibold",children:s.homeTeam})}),e.jsxs("div",{className:"flex items-center gap-3",children:["scheduled"!==s.status&&e.jsxs("div",{className:"text-2xl font-bold",children:[null==(r=s.score)?void 0:r.home," - ",null==(n=s.score)?void 0:n.away]}),"scheduled"===s.status&&e.jsx("div",{className:"text-xl font-bold",children:"vs"})]}),e.jsx("div",{className:"flex-1 text-right",children:e.jsx("div",{className:"text-lg font-semibold",children:s.awayTeam})})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-4"}),s.competition]}),e.jsx("div",{children:s.venue})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>(e=>{J(e),I(!0)})(s),children:[e.jsx(l,{className:"h-4 w-4 mr-1"})," Изменить"]}),e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>D(s.id),className:"text-fc-red hover:text-fc-red/80",children:[e.jsx(t,{className:"h-4 w-4 mr-1"})," Удалить"]})]})]})},s.id)}))}),F&&O&&e.jsx(o,{open:F,onOpenChange:()=>I(!1),children:e.jsxs(h,{className:"max-w-2xl",children:[e.jsx(x,{children:e.jsx(j,{children:O.id?"Редактировать матч":"Добавить новый матч"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"homeTeam",children:"Домашняя команда"}),e.jsx(b,{id:"homeTeam",value:O.homeTeam,onChange:e=>J({...O,homeTeam:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"awayTeam",children:"Гостевая команда"}),e.jsx(b,{id:"awayTeam",value:O.awayTeam,onChange:e=>J({...O,awayTeam:e.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"date",children:"Дата"}),e.jsx(b,{id:"date",type:"date",value:O.date,onChange:e=>J({...O,date:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"time",children:"Время"}),e.jsx(b,{id:"time",type:"time",value:O.time,onChange:e=>J({...O,time:e.target.value})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"venue",children:"Стадион"}),e.jsx(b,{id:"venue",value:O.venue,onChange:e=>J({...O,venue:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"competition",children:"Соревнование"}),e.jsx(b,{id:"competition",value:O.competition,onChange:e=>J({...O,competition:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{children:"Статус матча"}),e.jsxs(u,{value:O.status,onValueChange:e=>J({...O,status:e}),children:[e.jsx(p,{children:e.jsx(f,{})}),e.jsxs(N,{children:[e.jsx(y,{value:"scheduled",children:"Запланирован"}),e.jsx(y,{value:"live",children:"Идет матч"}),e.jsx(y,{value:"finished",children:"Завершен"})]})]})]}),"scheduled"!==O.status&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"scoreHome",children:"Голы (хозяева)"}),e.jsx(b,{id:"scoreHome",type:"number",min:"0",value:(null==(C=O.score)?void 0:C.home)||0,onChange:e=>J({...O,score:{...O.score,home:parseInt(e.target.value)||0}})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"scoreAway",children:"Голы (гости)"}),e.jsx(b,{id:"scoreAway",type:"number",min:"0",value:(null==(S=O.score)?void 0:S.away)||0,onChange:e=>J({...O,score:{...O.score,away:parseInt(e.target.value)||0}})})]})]})]}),e.jsxs(g,{children:[e.jsx(d,{variant:"outline",onClick:()=>I(!1),children:"Отмена"}),e.jsx(d,{onClick:()=>{return(e=O).id?k((s=>{const a=s.map((s=>s.id===e.id?e:s));return localStorage.setItem("matches",JSON.stringify(a)),a})):k((s=>{const a=[...s,{...e,id:Date.now().toString()}];return localStorage.setItem("matches",JSON.stringify(a)),a})),I(!1),J(null),void m({title:"Успешно сохранено",description:"Матч был успешно сохранен"});var e},className:"bg-fc-green hover:bg-fc-darkGreen",children:"Сохранить"})]})]})}),e.jsx(o,{open:!!z,onOpenChange:()=>D(null),children:e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(j,{children:"Подтвердите удаление"}),e.jsx(v,{children:"Вы уверены, что хотите удалить этот матч? Это действие нельзя отменить."})]}),e.jsxs(g,{children:[e.jsx(d,{variant:"outline",onClick:()=>D(null),children:"Отмена"}),e.jsx(d,{variant:"destructive",onClick:()=>{return z&&(e=z,k((s=>{const a=s.filter((s=>s.id!==e));return localStorage.setItem("matches",JSON.stringify(a)),a})),D(null),void m({title:"Удалено",description:"Матч был успешно удален",variant:"destructive"}));var e},children:"Удалить"})]})]})})]})};export{C as default};
