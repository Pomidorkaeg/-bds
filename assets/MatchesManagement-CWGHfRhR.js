import{j as e,H as I,e as M,c as O,J as E,K as J}from"./ui-CkcHHj86.js";import{r as h,R as H}from"./vendor-DPkAhkUG.js";import{C as A}from"./card-4wnoFtyg.js";import{B as d}from"./button-DAZoDWU2.js";import{t as f}from"./index-NQfDMm0O.js";import{D as N,a as y,b as w,c as C,e as S,d as R}from"./dialog-LQE1c9Cz.js";import{S as z,a as B,b as G,c as L,d as j}from"./select-DKf7ujH5.js";import{L as i,I as n}from"./label-IZgurXKH.js";const X=()=>{var v,p;const[b,o]=h.useState([]),[u,c]=h.useState(!1),[a,t]=h.useState(null),[g,m]=h.useState(null);H.useEffect(()=>{const s=localStorage.getItem("matches");s&&o(JSON.parse(s))},[]);const T=()=>{const s={id:Date.now().toString(),homeTeam:"",awayTeam:"",date:"",time:"",venue:"",competition:"",status:"scheduled"};t(s),c(!0)},D=s=>{t(s),c(!0)},k=s=>{s.id?o(r=>{const l=r.map(x=>x.id===s.id?s:x);return localStorage.setItem("matches",JSON.stringify(l)),l}):o(r=>{const l=[...r,{...s,id:Date.now().toString()}];return localStorage.setItem("matches",JSON.stringify(l)),l}),c(!1),t(null),f({title:"Успешно сохранено",description:"Матч был успешно сохранен"})},F=s=>{o(r=>{const l=r.filter(x=>x.id!==s);return localStorage.setItem("matches",JSON.stringify(l)),l}),m(null),f({title:"Удалено",description:"Матч был успешно удален",variant:"destructive"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Управление матчами"}),e.jsxs(d,{onClick:T,className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Добавить матч"]})]}),e.jsx("div",{className:"grid gap-6",children:b.map(s=>{var r,l;return e.jsx(A,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="live"?"bg-fc-green text-white":s.status==="finished"?"bg-gray-200 text-gray-700":"bg-fc-yellow text-gray-900"}`,children:s.status==="live"?"Идет матч":s.status==="finished"?"Завершен":"Запланирован"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.date," ",s.time]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-lg font-semibold",children:s.homeTeam})}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.status!=="scheduled"&&e.jsxs("div",{className:"text-2xl font-bold",children:[(r=s.score)==null?void 0:r.home," - ",(l=s.score)==null?void 0:l.away]}),s.status==="scheduled"&&e.jsx("div",{className:"text-xl font-bold",children:"vs"})]}),e.jsx("div",{className:"flex-1 text-right",children:e.jsx("div",{className:"text-lg font-semibold",children:s.awayTeam})})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),s.competition]}),e.jsx("div",{children:s.venue})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>D(s),children:[e.jsx(E,{className:"h-4 w-4 mr-1"})," Изменить"]}),e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>m(s.id),className:"text-fc-red hover:text-fc-red/80",children:[e.jsx(J,{className:"h-4 w-4 mr-1"})," Удалить"]})]})]})},s.id)})}),u&&a&&e.jsx(N,{open:u,onOpenChange:()=>c(!1),children:e.jsxs(y,{className:"max-w-2xl",children:[e.jsx(w,{children:e.jsx(C,{children:a.id?"Редактировать матч":"Добавить новый матч"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"homeTeam",children:"Домашняя команда"}),e.jsx(n,{id:"homeTeam",value:a.homeTeam,onChange:s=>t({...a,homeTeam:s.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"awayTeam",children:"Гостевая команда"}),e.jsx(n,{id:"awayTeam",value:a.awayTeam,onChange:s=>t({...a,awayTeam:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"date",children:"Дата"}),e.jsx(n,{id:"date",type:"date",value:a.date,onChange:s=>t({...a,date:s.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"time",children:"Время"}),e.jsx(n,{id:"time",type:"time",value:a.time,onChange:s=>t({...a,time:s.target.value})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"venue",children:"Стадион"}),e.jsx(n,{id:"venue",value:a.venue,onChange:s=>t({...a,venue:s.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"competition",children:"Соревнование"}),e.jsx(n,{id:"competition",value:a.competition,onChange:s=>t({...a,competition:s.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Статус матча"}),e.jsxs(z,{value:a.status,onValueChange:s=>t({...a,status:s}),children:[e.jsx(B,{children:e.jsx(G,{})}),e.jsxs(L,{children:[e.jsx(j,{value:"scheduled",children:"Запланирован"}),e.jsx(j,{value:"live",children:"Идет матч"}),e.jsx(j,{value:"finished",children:"Завершен"})]})]})]}),a.status!=="scheduled"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"scoreHome",children:"Голы (хозяева)"}),e.jsx(n,{id:"scoreHome",type:"number",min:"0",value:((v=a.score)==null?void 0:v.home)||0,onChange:s=>t({...a,score:{...a.score,home:parseInt(s.target.value)||0}})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"scoreAway",children:"Голы (гости)"}),e.jsx(n,{id:"scoreAway",type:"number",min:"0",value:((p=a.score)==null?void 0:p.away)||0,onChange:s=>t({...a,score:{...a.score,away:parseInt(s.target.value)||0}})})]})]})]}),e.jsxs(S,{children:[e.jsx(d,{variant:"outline",onClick:()=>c(!1),children:"Отмена"}),e.jsx(d,{onClick:()=>k(a),className:"bg-fc-green hover:bg-fc-darkGreen",children:"Сохранить"})]})]})}),e.jsx(N,{open:!!g,onOpenChange:()=>m(null),children:e.jsxs(y,{children:[e.jsxs(w,{children:[e.jsx(C,{children:"Подтвердите удаление"}),e.jsx(R,{children:"Вы уверены, что хотите удалить этот матч? Это действие нельзя отменить."})]}),e.jsxs(S,{children:[e.jsx(d,{variant:"outline",onClick:()=>m(null),children:"Отмена"}),e.jsx(d,{variant:"destructive",onClick:()=>g&&F(g),children:"Удалить"})]})]})})]})};export{X as default};
