import{Z as jt,_ as Nt,$ as Ae,a0 as L,j as e,a1 as bt,a2 as _,a3 as T,a4 as G,a5 as It,a6 as Tt,a7 as Pt,a8 as Re,a9 as Rt,aa as Et,ab as _t,ac as Dt,ad as _e,ae as Mt,r as ke,af as Ot,ag as At,X as kt,E as Lt,N as Bt,H as De,J as Vt,K as Ht}from"./ui-B4Iy6jr0.js";import{r as n,a as Le}from"./vendor-D6ndfC6E.js";import{C as pe,a as Ft,b as Ut}from"./card-BNadoMMC.js";import{B as z}from"./button-Cb1nln4d.js";import{c as q,t as ae}from"./index-B0dM_MQp.js";import{h as Wt,u as Kt,R as $t,F as zt,D as Gt,a as qt,b as Yt,c as Jt,d as Xt,e as Zt}from"./dialog-DzYfq0tR.js";import{L as ee,I as ue}from"./label-Cbh_yy3y.js";import{T as Me}from"./textarea-M4PTzPOA.js";function Oe(o,[r,t]){return Math.min(t,Math.max(r,o))}var Qt=n.createContext(void 0);function eo(o){const r=n.useContext(Qt);return o||r||"ltr"}function to(o){const r=n.useRef({value:o,previous:o});return n.useMemo(()=>(r.current.value!==o&&(r.current.previous=r.current.value,r.current.value=o),r.current.previous),[o])}var oo=[" ","Enter","ArrowUp","ArrowDown"],no=[" ","Enter"],ie="Select",[me,he,ro]=jt(ie),[ne,Uo]=Nt(ie,[ro,Ae]),xe=Ae(),[so,Y]=ne(ie),[ao,lo]=ne(ie),Be=o=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:d,onOpenChange:u,value:c,defaultValue:l,onValueChange:i,dir:p,name:g,autoComplete:w,disabled:b,required:I,form:j}=o,s=xe(r),[h,v]=n.useState(null),[f,x]=n.useState(null),[D,M]=n.useState(!1),re=eo(p),[P=!1,A]=_e({prop:a,defaultProp:d,onChange:u}),[W,X]=_e({prop:c,defaultProp:l,onChange:i}),B=n.useRef(null),V=h?j||!!h.closest("form"):!0,[K,H]=n.useState(new Set),F=Array.from(K).map(R=>R.props.value).join(";");return e.jsx(Mt,{...s,children:e.jsxs(so,{required:I,scope:r,trigger:h,onTriggerChange:v,valueNode:f,onValueNodeChange:x,valueNodeHasChildren:D,onValueNodeHasChildrenChange:M,contentId:Re(),value:W,onValueChange:X,open:P,onOpenChange:A,dir:re,triggerPointerDownPosRef:B,disabled:b,children:[e.jsx(me.Provider,{scope:r,children:e.jsx(ao,{scope:o.__scopeSelect,onNativeOptionAdd:n.useCallback(R=>{H(k=>new Set(k).add(R))},[]),onNativeOptionRemove:n.useCallback(R=>{H(k=>{const U=new Set(k);return U.delete(R),U})},[]),children:t})}),V?e.jsxs(ct,{"aria-hidden":!0,required:I,tabIndex:-1,name:g,autoComplete:w,value:W,onChange:R=>X(R.target.value),disabled:b,form:j,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},F):null]})})};Be.displayName=ie;var Ve="SelectTrigger",He=n.forwardRef((o,r)=>{const{__scopeSelect:t,disabled:a=!1,...d}=o,u=xe(t),c=Y(Ve,t),l=c.disabled||a,i=L(r,c.onTriggerChange),p=he(t),g=n.useRef("touch"),[w,b,I]=dt(s=>{const h=p().filter(x=>!x.disabled),v=h.find(x=>x.value===c.value),f=ut(h,s,v);f!==void 0&&c.onValueChange(f.value)}),j=s=>{l||(c.onOpenChange(!0),I()),s&&(c.triggerPointerDownPosRef.current={x:Math.round(s.pageX),y:Math.round(s.pageY)})};return e.jsx(bt,{asChild:!0,...u,children:e.jsx(_.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":it(c.value)?"":void 0,...d,ref:i,onClick:T(d.onClick,s=>{s.currentTarget.focus(),g.current!=="mouse"&&j(s)}),onPointerDown:T(d.onPointerDown,s=>{g.current=s.pointerType;const h=s.target;h.hasPointerCapture(s.pointerId)&&h.releasePointerCapture(s.pointerId),s.button===0&&s.ctrlKey===!1&&s.pointerType==="mouse"&&(j(s),s.preventDefault())}),onKeyDown:T(d.onKeyDown,s=>{const h=w.current!=="";!(s.ctrlKey||s.altKey||s.metaKey)&&s.key.length===1&&b(s.key),!(h&&s.key===" ")&&oo.includes(s.key)&&(j(),s.preventDefault())})})})});He.displayName=Ve;var Fe="SelectValue",Ue=n.forwardRef((o,r)=>{const{__scopeSelect:t,className:a,style:d,children:u,placeholder:c="",...l}=o,i=Y(Fe,t),{onValueNodeHasChildrenChange:p}=i,g=u!==void 0,w=L(r,i.onValueNodeChange);return G(()=>{p(g)},[p,g]),e.jsx(_.span,{...l,ref:w,style:{pointerEvents:"none"},children:it(i.value)?e.jsx(e.Fragment,{children:c}):u})});Ue.displayName=Fe;var io="SelectIcon",We=n.forwardRef((o,r)=>{const{__scopeSelect:t,children:a,...d}=o;return e.jsx(_.span,{"aria-hidden":!0,...d,ref:r,children:a||"▼"})});We.displayName=io;var co="SelectPortal",Ke=o=>e.jsx(Dt,{asChild:!0,...o});Ke.displayName=co;var te="SelectContent",$e=n.forwardRef((o,r)=>{const t=Y(te,o.__scopeSelect),[a,d]=n.useState();if(G(()=>{d(new DocumentFragment)},[]),!t.open){const u=a;return u?Le.createPortal(e.jsx(ze,{scope:o.__scopeSelect,children:e.jsx(me.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(Ge,{...o,ref:r})});$e.displayName=te;var O=10,[ze,J]=ne(te),uo="SelectContentImpl",Ge=n.forwardRef((o,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:u,onPointerDownOutside:c,side:l,sideOffset:i,align:p,alignOffset:g,arrowPadding:w,collisionBoundary:b,collisionPadding:I,sticky:j,hideWhenDetached:s,avoidCollisions:h,...v}=o,f=Y(te,t),[x,D]=n.useState(null),[M,re]=n.useState(null),P=L(r,m=>D(m)),[A,W]=n.useState(null),[X,B]=n.useState(null),V=he(t),[K,H]=n.useState(!1),F=n.useRef(!1);n.useEffect(()=>{if(x)return Wt(x)},[x]),Kt();const R=n.useCallback(m=>{const[N,...E]=V().map(y=>y.ref.current),[C]=E.slice(-1),S=document.activeElement;for(const y of m)if(y===S||(y==null||y.scrollIntoView({block:"nearest"}),y===N&&M&&(M.scrollTop=0),y===C&&M&&(M.scrollTop=M.scrollHeight),y==null||y.focus(),document.activeElement!==S))return},[V,M]),k=n.useCallback(()=>R([A,x]),[R,A,x]);n.useEffect(()=>{K&&k()},[K,k]);const{onOpenChange:U,triggerPointerDownPosRef:$}=f;n.useEffect(()=>{if(x){let m={x:0,y:0};const N=C=>{var S,y;m={x:Math.abs(Math.round(C.pageX)-(((S=$.current)==null?void 0:S.x)??0)),y:Math.abs(Math.round(C.pageY)-(((y=$.current)==null?void 0:y.y)??0))}},E=C=>{m.x<=10&&m.y<=10?C.preventDefault():x.contains(C.target)||U(!1),document.removeEventListener("pointermove",N),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",N),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",E,{capture:!0})}}},[x,U,$]),n.useEffect(()=>{const m=()=>U(!1);return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[U]);const[ge,ce]=dt(m=>{const N=V().filter(S=>!S.disabled),E=N.find(S=>S.ref.current===document.activeElement),C=ut(N,m,E);C&&setTimeout(()=>C.ref.current.focus())}),ve=n.useCallback((m,N,E)=>{const C=!F.current&&!E;(f.value!==void 0&&f.value===N||C)&&(W(m),C&&(F.current=!0))},[f.value]),we=n.useCallback(()=>x==null?void 0:x.focus(),[x]),oe=n.useCallback((m,N,E)=>{const C=!F.current&&!E;(f.value!==void 0&&f.value===N||C)&&B(m)},[f.value]),de=a==="popper"?je:qe,se=de===je?{side:l,sideOffset:i,align:p,alignOffset:g,arrowPadding:w,collisionBoundary:b,collisionPadding:I,sticky:j,hideWhenDetached:s,avoidCollisions:h}:{};return e.jsx(ze,{scope:t,content:x,viewport:M,onViewportChange:re,itemRefCallback:ve,selectedItem:A,onItemLeave:we,itemTextRefCallback:oe,focusSelectedItem:k,selectedItemText:X,position:a,isPositioned:K,searchRef:ge,children:e.jsx($t,{as:It,allowPinchZoom:!0,children:e.jsx(zt,{asChild:!0,trapped:f.open,onMountAutoFocus:m=>{m.preventDefault()},onUnmountAutoFocus:T(d,m=>{var N;(N=f.trigger)==null||N.focus({preventScroll:!0}),m.preventDefault()}),children:e.jsx(Tt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:m=>m.preventDefault(),...v,...se,onPlaced:()=>H(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:T(v.onKeyDown,m=>{const N=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!N&&m.key.length===1&&ce(m.key),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let C=V().filter(S=>!S.disabled).map(S=>S.ref.current);if(["ArrowUp","End"].includes(m.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const S=m.target,y=C.indexOf(S);C=C.slice(y+1)}setTimeout(()=>R(C)),m.preventDefault()}})})})})})})});Ge.displayName=uo;var po="SelectItemAlignedPosition",qe=n.forwardRef((o,r)=>{const{__scopeSelect:t,onPlaced:a,...d}=o,u=Y(te,t),c=J(te,t),[l,i]=n.useState(null),[p,g]=n.useState(null),w=L(r,P=>g(P)),b=he(t),I=n.useRef(!1),j=n.useRef(!0),{viewport:s,selectedItem:h,selectedItemText:v,focusSelectedItem:f}=c,x=n.useCallback(()=>{if(u.trigger&&u.valueNode&&l&&p&&s&&h&&v){const P=u.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),W=u.valueNode.getBoundingClientRect(),X=v.getBoundingClientRect();if(u.dir!=="rtl"){const S=X.left-A.left,y=W.left-S,Z=P.left-y,Q=P.width+Z,Se=Math.max(Q,A.width),ye=window.innerWidth-O,Ce=Oe(y,[O,Math.max(O,ye-Se)]);l.style.minWidth=Q+"px",l.style.left=Ce+"px"}else{const S=A.right-X.right,y=window.innerWidth-W.right-S,Z=window.innerWidth-P.right-y,Q=P.width+Z,Se=Math.max(Q,A.width),ye=window.innerWidth-O,Ce=Oe(y,[O,Math.max(O,ye-Se)]);l.style.minWidth=Q+"px",l.style.right=Ce+"px"}const B=b(),V=window.innerHeight-O*2,K=s.scrollHeight,H=window.getComputedStyle(p),F=parseInt(H.borderTopWidth,10),R=parseInt(H.paddingTop,10),k=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),$=F+R+K+U+k,ge=Math.min(h.offsetHeight*5,$),ce=window.getComputedStyle(s),ve=parseInt(ce.paddingTop,10),we=parseInt(ce.paddingBottom,10),oe=P.top+P.height/2-O,de=V-oe,se=h.offsetHeight/2,m=h.offsetTop+se,N=F+R+m,E=$-N;if(N<=oe){const S=B.length>0&&h===B[B.length-1].ref.current;l.style.bottom="0px";const y=p.clientHeight-s.offsetTop-s.offsetHeight,Z=Math.max(de,se+(S?we:0)+y+k),Q=N+Z;l.style.height=Q+"px"}else{const S=B.length>0&&h===B[0].ref.current;l.style.top="0px";const Z=Math.max(oe,F+s.offsetTop+(S?ve:0)+se)+E;l.style.height=Z+"px",s.scrollTop=N-oe+s.offsetTop}l.style.margin=`${O}px 0`,l.style.minHeight=ge+"px",l.style.maxHeight=V+"px",a==null||a(),requestAnimationFrame(()=>I.current=!0)}},[b,u.trigger,u.valueNode,l,p,s,h,v,u.dir,a]);G(()=>x(),[x]);const[D,M]=n.useState();G(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const re=n.useCallback(P=>{P&&j.current===!0&&(x(),f==null||f(),j.current=!1)},[x,f]);return e.jsx(mo,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:I,onScrollButtonChange:re,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:e.jsx(_.div,{...d,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});qe.displayName=po;var fo="SelectPopperPosition",je=n.forwardRef((o,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:d=O,...u}=o,c=xe(t);return e.jsx(Pt,{...c,...u,ref:r,align:a,collisionPadding:d,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});je.displayName=fo;var[mo,Ee]=ne(te,{}),Ne="SelectViewport",Ye=n.forwardRef((o,r)=>{const{__scopeSelect:t,nonce:a,...d}=o,u=J(Ne,t),c=Ee(Ne,t),l=L(r,u.onViewportChange),i=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(me.Slot,{scope:t,children:e.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:T(d.onScroll,p=>{const g=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:b}=c;if(b!=null&&b.current&&w){const I=Math.abs(i.current-g.scrollTop);if(I>0){const j=window.innerHeight-O*2,s=parseFloat(w.style.minHeight),h=parseFloat(w.style.height),v=Math.max(s,h);if(v<j){const f=v+I,x=Math.min(j,f),D=f-x;w.style.height=x+"px",w.style.bottom==="0px"&&(g.scrollTop=D>0?D:0,w.style.justifyContent="flex-end")}}}i.current=g.scrollTop})})})]})});Ye.displayName=Ne;var Je="SelectGroup",[ho,xo]=ne(Je),go=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o,d=Re();return e.jsx(ho,{scope:t,id:d,children:e.jsx(_.div,{role:"group","aria-labelledby":d,...a,ref:r})})});go.displayName=Je;var Xe="SelectLabel",Ze=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o,d=xo(Xe,t);return e.jsx(_.div,{id:d.id,...a,ref:r})});Ze.displayName=Xe;var fe="SelectItem",[vo,Qe]=ne(fe),et=n.forwardRef((o,r)=>{const{__scopeSelect:t,value:a,disabled:d=!1,textValue:u,...c}=o,l=Y(fe,t),i=J(fe,t),p=l.value===a,[g,w]=n.useState(u??""),[b,I]=n.useState(!1),j=L(r,f=>{var x;return(x=i.itemRefCallback)==null?void 0:x.call(i,f,a,d)}),s=Re(),h=n.useRef("touch"),v=()=>{d||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(vo,{scope:t,value:a,disabled:d,textId:s,isSelected:p,onItemTextChange:n.useCallback(f=>{w(x=>x||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(me.ItemSlot,{scope:t,value:a,disabled:d,textValue:g,children:e.jsx(_.div,{role:"option","aria-labelledby":s,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...c,ref:j,onFocus:T(c.onFocus,()=>I(!0)),onBlur:T(c.onBlur,()=>I(!1)),onClick:T(c.onClick,()=>{h.current!=="mouse"&&v()}),onPointerUp:T(c.onPointerUp,()=>{h.current==="mouse"&&v()}),onPointerDown:T(c.onPointerDown,f=>{h.current=f.pointerType}),onPointerMove:T(c.onPointerMove,f=>{var x;h.current=f.pointerType,d?(x=i.onItemLeave)==null||x.call(i):h.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(c.onPointerLeave,f=>{var x;f.currentTarget===document.activeElement&&((x=i.onItemLeave)==null||x.call(i))}),onKeyDown:T(c.onKeyDown,f=>{var D;((D=i.searchRef)==null?void 0:D.current)!==""&&f.key===" "||(no.includes(f.key)&&v(),f.key===" "&&f.preventDefault())})})})})});et.displayName=fe;var le="SelectItemText",tt=n.forwardRef((o,r)=>{const{__scopeSelect:t,className:a,style:d,...u}=o,c=Y(le,t),l=J(le,t),i=Qe(le,t),p=lo(le,t),[g,w]=n.useState(null),b=L(r,v=>w(v),i.onItemTextChange,v=>{var f;return(f=l.itemTextRefCallback)==null?void 0:f.call(l,v,i.value,i.disabled)}),I=g==null?void 0:g.textContent,j=n.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:I},i.value),[i.disabled,i.value,I]),{onNativeOptionAdd:s,onNativeOptionRemove:h}=p;return G(()=>(s(j),()=>h(j)),[s,h,j]),e.jsxs(e.Fragment,{children:[e.jsx(_.span,{id:i.textId,...u,ref:b}),i.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Le.createPortal(u.children,c.valueNode):null]})});tt.displayName=le;var ot="SelectItemIndicator",nt=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o;return Qe(ot,t).isSelected?e.jsx(_.span,{"aria-hidden":!0,...a,ref:r}):null});nt.displayName=ot;var be="SelectScrollUpButton",rt=n.forwardRef((o,r)=>{const t=J(be,o.__scopeSelect),a=Ee(be,o.__scopeSelect),[d,u]=n.useState(!1),c=L(r,a.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let l=function(){const p=i.scrollTop>0;u(p)};const i=t.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),d?e.jsx(at,{...o,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:i}=t;l&&i&&(l.scrollTop=l.scrollTop-i.offsetHeight)}}):null});rt.displayName=be;var Ie="SelectScrollDownButton",st=n.forwardRef((o,r)=>{const t=J(Ie,o.__scopeSelect),a=Ee(Ie,o.__scopeSelect),[d,u]=n.useState(!1),c=L(r,a.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let l=function(){const p=i.scrollHeight-i.clientHeight,g=Math.ceil(i.scrollTop)<p;u(g)};const i=t.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),d?e.jsx(at,{...o,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:i}=t;l&&i&&(l.scrollTop=l.scrollTop+i.offsetHeight)}}):null});st.displayName=Ie;var at=n.forwardRef((o,r)=>{const{__scopeSelect:t,onAutoScroll:a,...d}=o,u=J("SelectScrollButton",t),c=n.useRef(null),l=he(t),i=n.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return n.useEffect(()=>()=>i(),[i]),G(()=>{var g;const p=l().find(w=>w.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[l]),e.jsx(_.div,{"aria-hidden":!0,...d,ref:r,style:{flexShrink:0,...d.style},onPointerDown:T(d.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:T(d.onPointerMove,()=>{var p;(p=u.onItemLeave)==null||p.call(u),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:T(d.onPointerLeave,()=>{i()})})}),wo="SelectSeparator",lt=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o;return e.jsx(_.div,{"aria-hidden":!0,...a,ref:r})});lt.displayName=wo;var Te="SelectArrow",So=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o,d=xe(t),u=Y(Te,t),c=J(Te,t);return u.open&&c.position==="popper"?e.jsx(Rt,{...d,...a,ref:r}):null});So.displayName=Te;function it(o){return o===""||o===void 0}var ct=n.forwardRef((o,r)=>{const{value:t,...a}=o,d=n.useRef(null),u=L(r,d),c=to(t);return n.useEffect(()=>{const l=d.current,i=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(i,"value").set;if(c!==t&&g){const w=new Event("change",{bubbles:!0});g.call(l,t),l.dispatchEvent(w)}},[c,t]),e.jsx(Et,{asChild:!0,children:e.jsx("select",{...a,ref:u,defaultValue:t})})});ct.displayName="BubbleSelect";function dt(o){const r=_t(o),t=n.useRef(""),a=n.useRef(0),d=n.useCallback(c=>{const l=t.current+c;r(l),function i(p){t.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>i(""),1e3))}(l)},[r]),u=n.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,d,u]}function ut(o,r,t){const d=r.length>1&&Array.from(r).every(p=>p===r[0])?r[0]:r,u=t?o.indexOf(t):-1;let c=yo(o,Math.max(u,0));d.length===1&&(c=c.filter(p=>p!==t));const i=c.find(p=>p.textValue.toLowerCase().startsWith(d.toLowerCase()));return i!==t?i:void 0}function yo(o,r){return o.map((t,a)=>o[(r+a)%o.length])}var Co=Be,pt=He,jo=Ue,No=We,bo=Ke,ft=$e,Io=Ye,mt=Ze,ht=et,To=tt,Po=nt,xt=rt,gt=st,vt=lt;const Ro=Co,Eo=jo,wt=n.forwardRef(({className:o,children:r,...t},a)=>e.jsxs(pt,{ref:a,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[r,e.jsx(No,{asChild:!0,children:e.jsx(ke,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=pt.displayName;const St=n.forwardRef(({className:o,...r},t)=>e.jsx(xt,{ref:t,className:q("flex cursor-default items-center justify-center py-1",o),...r,children:e.jsx(Ot,{className:"h-4 w-4"})}));St.displayName=xt.displayName;const yt=n.forwardRef(({className:o,...r},t)=>e.jsx(gt,{ref:t,className:q("flex cursor-default items-center justify-center py-1",o),...r,children:e.jsx(ke,{className:"h-4 w-4"})}));yt.displayName=gt.displayName;const Ct=n.forwardRef(({className:o,children:r,position:t="popper",...a},d)=>e.jsx(bo,{children:e.jsxs(ft,{ref:d,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...a,children:[e.jsx(St,{}),e.jsx(Io,{className:q("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(yt,{})]})}));Ct.displayName=ft.displayName;const _o=n.forwardRef(({className:o,...r},t)=>e.jsx(mt,{ref:t,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...r}));_o.displayName=mt.displayName;const Pe=n.forwardRef(({className:o,children:r,...t},a)=>e.jsxs(ht,{ref:a,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Po,{children:e.jsx(At,{className:"h-4 w-4"})})}),e.jsx(To,{children:r})]}));Pe.displayName=ht.displayName;const Do=n.forwardRef(({className:o,...r},t)=>e.jsx(vt,{ref:t,className:q("-mx-1 my-1 h-px bg-muted",o),...r}));Do.displayName=vt.displayName;const Mo=({news:o,onSave:r,onCancel:t})=>{const[a,d]=n.useState(o),u=l=>{const{name:i,value:p}="target"in l?l.target:l;d(g=>({...g,[i]:p}))},c=l=>{l.preventDefault(),r(a)};return e.jsx("form",{onSubmit:c,children:e.jsxs(pe,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"title",children:"Заголовок"}),e.jsx(ue,{id:"title",name:"title",value:a.title,onChange:u,required:!0})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"excerpt",children:"Краткое описание"}),e.jsx(Me,{id:"excerpt",name:"excerpt",value:a.excerpt,onChange:u,required:!0,rows:3})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"content",children:"Содержание новости"}),e.jsx(Me,{id:"content",name:"content",value:a.content,onChange:u,required:!0,rows:10})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"image",children:"URL изображения"}),e.jsx(ue,{id:"image",name:"image",value:a.image,onChange:u,required:!0}),a.image&&e.jsx("div",{className:"mt-2 rounded-lg overflow-hidden aspect-video",children:e.jsx("img",{src:a.image,alt:"Preview",className:"w-full h-full object-cover"})})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"category",children:"Категория"}),e.jsxs(Ro,{value:a.category,onValueChange:l=>u({name:"category",value:l}),children:[e.jsx(wt,{children:e.jsx(Eo,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"matches",children:"Матчи"}),e.jsx(Pe,{value:"club",children:"Клуб"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"date",children:"Дата"}),e.jsx(ue,{id:"date",name:"date",type:"text",value:a.date,onChange:u,required:!0})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"time",children:"Время"}),e.jsx(ue,{id:"time",name:"time",type:"text",value:a.time,onChange:u,required:!0})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6 pt-4 border-t",children:[e.jsxs(z,{variant:"outline",type:"button",onClick:t,children:[e.jsx(kt,{className:"mr-2 h-4 w-4"})," Отмена"]}),e.jsxs(z,{type:"submit",className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(Lt,{className:"mr-2 h-4 w-4"})," Сохранить"]})]})]})})},Wo=()=>{const[o,r]=n.useState([]),[t,a]=n.useState(!1),[d,u]=n.useState(null),[c,l]=n.useState(null);n.useEffect(()=>{const s=localStorage.getItem("news");s&&r(JSON.parse(s))},[]);const i=()=>{const s={id:`news-${Date.now()}`,title:"",excerpt:"",content:"",category:"club",date:new Date().toLocaleDateString("ru-RU"),time:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),image:"",views:0};u(s),a(!0)},p=s=>{u(s),a(!0)},g=s=>{l(s)},w=()=>{if(c){try{const s=o.filter(h=>h.id!==c);r(s),localStorage.setItem("news",JSON.stringify(s)),ae({title:"Новость удалена",description:"Новость была успешно удалена"})}catch{ae({variant:"destructive",title:"Ошибка",description:"Не удалось удалить новость"})}l(null)}},b=s=>{try{let h;o.some(v=>v.id===s.id)?(h=o.map(v=>v.id===s.id?s:v),ae({title:"Новость обновлена",description:"Новость успешно обновлена"})):(h=[...o,s],ae({title:"Новость добавлена",description:"Новая новость успешно добавлена"})),r(h),localStorage.setItem("news",JSON.stringify(h)),a(!1),u(null)}catch{ae({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить новость"})}},I=()=>{a(!1),u(null)},j=()=>{l(null)};return e.jsxs("div",{children:[e.jsx(pe,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:e.jsxs(Ft,{className:"flex flex-row items-center justify-between",children:[e.jsx(Ut,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-fc-green mr-3 flex items-center justify-center",children:e.jsx(Bt,{className:"h-4 w-4 text-white"})}),e.jsx("span",{children:"Управление новостями"})]})}),e.jsxs(z,{onClick:i,className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(De,{className:"mr-2 h-4 w-4"})," Добавить новость"]})]})}),t&&d?e.jsx(Mo,{news:d,onSave:b,onCancel:I}):e.jsxs("div",{className:"grid gap-4",children:[o.map(s=>e.jsx(pe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.image||"/placeholder.svg",alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.excerpt}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-xs mr-2",children:s.category==="matches"?"Матчи":"Клуб"}),e.jsxs("span",{children:[s.date," ",s.time]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>p(s),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Vt,{className:"h-4 w-4"})}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>g(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx(Ht,{className:"h-4 w-4"})})]})]})},s.id)),o.length===0&&e.jsxs(pe,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-gray-500 mb-4",children:"Новости не найдены"}),e.jsxs(z,{onClick:i,variant:"outline",children:[e.jsx(De,{className:"mr-2 h-4 w-4"})," Добавить первую новость"]})]})]}),e.jsx(Gt,{open:!!c,onOpenChange:()=>l(null),children:e.jsxs(qt,{children:[e.jsxs(Yt,{children:[e.jsx(Jt,{children:"Подтверждение удаления"}),e.jsx(Xt,{children:"Вы уверены, что хотите удалить эту новость? Это действие нельзя будет отменить."})]}),e.jsxs(Zt,{children:[e.jsx(z,{variant:"outline",onClick:j,children:"Отмена"}),e.jsx(z,{variant:"destructive",onClick:w,children:"Удалить"})]})]})})]})};export{Wo as default};
