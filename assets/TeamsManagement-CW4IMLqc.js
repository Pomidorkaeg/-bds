import{j as e,h as s,W as a,Y as i,S as n,Q as l,M as r,G as c,I as t,F as d,g as o,X as m,E as h}from"./ui-dsA3UTJJ.js";import{r as x}from"./vendor-VrRidEet.js";import{g as j,u as g}from"./teamsData-CbQgeqDZ.js";import{t as v}from"./index-C5T_0QIt.js";import{C as u,a as p,b as N,c as b,d as f}from"./card-DTOVq60Q.js";import{B as C}from"./button-DhUj6jFD.js";import{L as k,I as w}from"./label-5gP1uu55.js";import{T as y}from"./textarea-Bs8JkZnS.js";const L=()=>e.jsx(u,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:e.jsxs(p,{children:[e.jsxs(N,{className:"flex items-center",children:[e.jsx(s,{className:"h-5 w-5 mr-2 text-fc-green"}),"Управление командами"]}),e.jsx(b,{children:"Настройка информации о командах клуба"})]})}),F=({team:s,onEdit:i})=>e.jsxs("div",{className:"h-48 relative",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url('${s.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to right, ${s.primaryColor}DD, ${s.secondaryColor}99)`}}),e.jsxs("div",{className:"absolute inset-0 p-6 flex items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:s.logo,alt:s.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsxs("div",{className:"ml-6",children:[e.jsx("h3",{className:"text-3xl font-bold text-white drop-shadow-md",children:s.name}),e.jsxs("p",{className:"text-white text-opacity-90",children:["Основан в ",s.foundedYear," году"]})]})]}),e.jsxs(C,{variant:"secondary",size:"sm",onClick:()=>i(s),className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm hover:bg-white/30",children:[e.jsx(a,{className:"h-4 w-4 mr-1"})," Изменить"]})]})]}),I=({team:s})=>e.jsxs(f,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(i,{className:"w-5 h-5 mr-2 text-fc-green"}),e.jsx("h4",{className:"font-semibold",children:"О команде"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center mt-6 mb-3",children:[e.jsx(n,{className:"w-5 h-5 mr-2 text-fc-green"}),e.jsx("h4",{className:"font-semibold",children:"Стадион"})]}),e.jsx("p",{className:"text-gray-600",children:s.stadium})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(l,{className:"w-5 h-5 mr-2 text-fc-green"}),e.jsx("h4",{className:"font-semibold",children:"Достижения"})]}),e.jsx("ul",{className:"space-y-2",children:s.achievements.map(((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fc-green mt-2 mr-2"}),e.jsx("span",{className:"text-gray-600",children:s})]},a)))}),e.jsxs("div",{className:"flex items-center mt-6 mb-3",children:[e.jsx(r,{className:"w-5 h-5 mr-2 text-fc-green"}),e.jsx("h4",{className:"font-semibold",children:"Адрес"})]}),e.jsx("p",{className:"text-gray-600",children:s.address})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.socialLinks.website&&e.jsxs("div",{className:"px-3 py-1 bg-gray-100 rounded text-sm text-gray-700 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),"Сайт"]}),s.socialLinks.instagram&&e.jsxs("div",{className:"px-3 py-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded text-sm text-white flex items-center",children:[e.jsx(t,{className:"w-4 h-4 mr-1"}),"Instagram"]}),s.socialLinks.facebook&&e.jsxs("div",{className:"px-3 py-1 bg-blue-600 rounded text-sm text-white flex items-center",children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),"Facebook"]}),s.socialLinks.twitter&&e.jsxs("div",{className:"px-3 py-1 bg-blue-400 rounded text-sm text-white flex items-center",children:[e.jsx(o,{className:"w-4 h-4 mr-1"}),"Twitter"]})]})})]}),S=({team:s,onEdit:a})=>e.jsxs(u,{className:"overflow-hidden",children:[e.jsx(F,{team:s,onEdit:a}),e.jsx(I,{team:s})]},s.id),Y=({onCancel:s,onSave:a})=>e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Редактирование команды"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:s,children:[e.jsx(m,{className:"h-4 w-4 mr-1"})," Отмена"]}),e.jsxs(C,{size:"sm",onClick:a,className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(h,{className:"h-4 w-4 mr-1"})," Сохранить"]})]})]}),E=({team:s,onChange:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"name",children:"Название команды"}),e.jsx(w,{id:"name",name:"name",value:s.name,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"shortName",children:"Краткое название"}),e.jsx(w,{id:"shortName",name:"shortName",value:s.shortName,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"logo",children:"URL логотипа"}),e.jsx(w,{id:"logo",name:"logo",value:s.logo,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"backgroundImage",children:"URL фонового изображения"}),e.jsx(w,{id:"backgroundImage",name:"backgroundImage",value:s.backgroundImage,onChange:a})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"primaryColor",children:"Основной цвет"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border",style:{backgroundColor:s.primaryColor}}),e.jsx(w,{id:"primaryColor",name:"primaryColor",value:s.primaryColor,onChange:a})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"secondaryColor",children:"Дополнительный цвет"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border",style:{backgroundColor:s.secondaryColor}}),e.jsx(w,{id:"secondaryColor",name:"secondaryColor",value:s.secondaryColor,onChange:a})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"description",children:"Описание"}),e.jsx(y,{id:"description",name:"description",value:s.description,onChange:a,rows:4})]})]}),z=({team:s,onChange:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"coach",children:"Главный тренер"}),e.jsx(w,{id:"coach",name:"coach",value:s.coach,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"foundedYear",children:"Год основания"}),e.jsx(w,{id:"foundedYear",name:"foundedYear",type:"number",value:s.foundedYear,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"stadium",children:"Стадион"}),e.jsx(w,{id:"stadium",name:"stadium",value:s.stadium,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"address",children:"Адрес"}),e.jsx(w,{id:"address",name:"address",value:s.address,onChange:a})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"achievements",children:"Достижения (каждое с новой строки)"}),e.jsx(y,{id:"achievements",name:"achievements",value:s.achievements.join("\n"),onChange:a,rows:4})]})]}),D=({team:s,onChange:a})=>e.jsxs("div",{className:"space-y-3 border p-4 rounded-md",children:[e.jsx(k,{children:"Социальные сети"}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"socialLinks.website",className:"text-sm",children:"Вебсайт"}),e.jsx(w,{id:"socialLinks.website",name:"socialLinks.website",value:s.socialLinks.website||"",onChange:a,placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"socialLinks.instagram",className:"text-sm",children:"Instagram"}),e.jsx(w,{id:"socialLinks.instagram",name:"socialLinks.instagram",value:s.socialLinks.instagram||"",onChange:a,placeholder:"https://instagram.com/teamname"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"socialLinks.facebook",className:"text-sm",children:"Facebook"}),e.jsx(w,{id:"socialLinks.facebook",name:"socialLinks.facebook",value:s.socialLinks.facebook||"",onChange:a,placeholder:"https://facebook.com/teamname"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"socialLinks.twitter",className:"text-sm",children:"Twitter"}),e.jsx(w,{id:"socialLinks.twitter",name:"socialLinks.twitter",value:s.socialLinks.twitter||"",onChange:a,placeholder:"https://twitter.com/teamname"})]})]}),T=({team:s,onChange:a})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(E,{team:s,onChange:a}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(z,{team:s,onChange:a}),e.jsx(D,{team:s,onChange:a})]})]}),$=({team:s,onCancel:a,onSave:i,onChange:n})=>e.jsxs("div",{className:"p-6",children:[e.jsx(Y,{onCancel:a,onSave:i}),e.jsx(T,{team:s,onChange:n})]}),G=({team:s,onCancel:a,onSave:i,onChange:n})=>e.jsx("div",{className:"p-0",children:e.jsx($,{team:s,onChange:n,onCancel:a,onSave:i})}),R=()=>{const[s,a]=x.useState(j()),[i,n]=x.useState(null),[l,r]=x.useState(null),c=e=>{n(e.id),r({...e})},t=e=>{const{name:s,value:a}=e.target;if(l)if(s.includes(".")){const[e,i]=s.split(".");r({...l,[e]:{...l[e],[i]:a}})}else r("achievements"===s?{...l,achievements:a.split("\n").filter((e=>""!==e.trim()))}:"foundedYear"===s?{...l,foundedYear:parseInt(a)||0}:{...l,[s]:a})},d=()=>{n(null),r(null)},o=()=>{if(l)try{g(l),a(s.map((e=>e.id===l.id?l:e))),v({title:"Команда обновлена",description:"Информация о команде успешно обновлена"}),n(null),r(null)}catch(e){v({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить изменения"})}};return e.jsxs("div",{children:[e.jsx(L,{}),e.jsx("div",{className:"grid grid-cols-1 gap-8",children:s.map((s=>e.jsx("div",{children:i===s.id&&l?e.jsx(G,{team:l,onChange:t,onCancel:d,onSave:o}):e.jsx(S,{team:s,onEdit:c})},s.id)))})]})};export{R as default};
